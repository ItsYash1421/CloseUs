{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashkumarmeena/Desktop/CloseUs/admin/app/dashboard/couples/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { apiClient } from '@/lib/api';\n\nexport default function CouplesPage() {\n    const { token } = useAuth();\n    const [couples, setCouples] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [page, setPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n\n    useEffect(() => {\n        fetchCouples();\n    }, [token, page]);\n\n    const fetchCouples = async () => {\n        if (!token) return;\n\n        setLoading(true);\n        try {\n            const response = await apiClient.get(\n                `/admin/couples?page=${page}&limit=20`,\n                token\n            );\n            setCouples(response.data.couples);\n            setTotalPages(response.data.pagination.pages);\n        } catch (error) {\n            console.error('Failed to fetch couples:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const formatDate = (date: string) => {\n        return new Date(date).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric',\n        });\n    };\n\n    return (\n        <div>\n            <div className=\"flex justify-between items-center mb-6\">\n                <h1 className=\"text-3xl font-bold text-gray-900\">Couples Management</h1>\n            </div>\n\n            {/* Couples Table */}\n            <div className=\"card overflow-x-auto\">\n                {loading ? (\n                    <div className=\"flex justify-center py-12\">\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n                    </div>\n                ) : (\n                    <>\n                        <table className=\"table\">\n                            <thead>\n                                <tr>\n                                    <th>Partner 1</th>\n                                    <th>Partner 2</th>\n                                    <th>Couple Tag</th>\n                                    <th>Status</th>\n                                    <th>Anniversary</th>\n                                    <th>Created</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {couples.map((couple) => (\n                                    <tr key={couple._id}>\n                                        <td className=\"font-medium\">\n                                            {couple.partner1Id?.name || 'N/A'}\n                                        </td>\n                                        <td className=\"font-medium\">\n                                            {couple.partner2Id?.name || 'Pending'}\n                                        </td>\n                                        <td>\n                                            {couple.coupleTag ? (\n                                                <span className=\"text-pink-600 font-semibold\">\n                                                    {couple.coupleTag}\n                                                </span>\n                                            ) : (\n                                                '-'\n                                            )}\n                                        </td>\n                                        <td>\n                                            {couple.isPaired ? (\n                                                <span className=\"badge badge-success\">Paired</span>\n                                            ) : (\n                                                <span className=\"badge badge-warning\">Pending</span>\n                                            )}\n                                        </td>\n                                        <td className=\"text-gray-600\">\n                                            {couple.anniversaryDate ? formatDate(couple.anniversaryDate) : '-'}\n                                        </td>\n                                        <td className=\"text-gray-500\">\n                                            {formatDate(couple.createdAt)}\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n\n                        {/* Pagination */}\n                        <div className=\"flex justify-between items-center mt-6 pt-4 border-t\">\n                            <p className=\"text-sm text-gray-600\">\n                                Page {page} of {totalPages}\n                            </p>\n                            <div className=\"flex gap-2\">\n                                <button\n                                    onClick={() => setPage(page - 1)}\n                                    disabled={page === 1}\n                                    className=\"btn-secondary disabled:opacity-50\"\n                                >\n                                    Previous\n                                </button>\n                                <button\n                                    onClick={() => setPage(page + 1)}\n                                    disabled={page === totalPages}\n                                    className=\"btn-secondary disabled:opacity-50\"\n                                >\n                                    Next\n                                </button>\n                            </div>\n                        </div>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,kKAAO;IACzB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gPAAQ,EAAQ,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gPAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gPAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gPAAQ,EAAC;IAE7C,IAAA,iPAAS,EAAC;QACN;IACJ,GAAG;QAAC;QAAO;KAAK;IAEhB,MAAM,eAAe;QACjB,IAAI,CAAC,OAAO;QAEZ,WAAW;QACX,IAAI;YACA,MAAM,WAAW,MAAM,sJAAS,CAAC,GAAG,CAChC,CAAC,oBAAoB,EAAE,KAAK,SAAS,CAAC,EACtC;YAEJ,WAAW,SAAS,IAAI,CAAC,OAAO;YAChC,cAAc,SAAS,IAAI,CAAC,UAAU,CAAC,KAAK;QAChD,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC9C,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,aAAa,CAAC;QAChB,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;YAC9C,MAAM;YACN,OAAO;YACP,KAAK;QACT;IACJ;IAEA,qBACI,6QAAC;;0BACG,6QAAC;gBAAI,WAAU;0BACX,cAAA,6QAAC;oBAAG,WAAU;8BAAmC;;;;;;;;;;;0BAIrD,6QAAC;gBAAI,WAAU;0BACV,wBACG,6QAAC;oBAAI,WAAU;8BACX,cAAA,6QAAC;wBAAI,WAAU;;;;;;;;;;yCAGnB;;sCACI,6QAAC;4BAAM,WAAU;;8CACb,6QAAC;8CACG,cAAA,6QAAC;;0DACG,6QAAC;0DAAG;;;;;;0DACJ,6QAAC;0DAAG;;;;;;0DACJ,6QAAC;0DAAG;;;;;;0DACJ,6QAAC;0DAAG;;;;;;0DACJ,6QAAC;0DAAG;;;;;;0DACJ,6QAAC;0DAAG;;;;;;;;;;;;;;;;;8CAGZ,6QAAC;8CACI,QAAQ,GAAG,CAAC,CAAC,uBACV,6QAAC;;8DACG,6QAAC;oDAAG,WAAU;8DACT,OAAO,UAAU,EAAE,QAAQ;;;;;;8DAEhC,6QAAC;oDAAG,WAAU;8DACT,OAAO,UAAU,EAAE,QAAQ;;;;;;8DAEhC,6QAAC;8DACI,OAAO,SAAS,iBACb,6QAAC;wDAAK,WAAU;kEACX,OAAO,SAAS;;;;;+DAGrB;;;;;;8DAGR,6QAAC;8DACI,OAAO,QAAQ,iBACZ,6QAAC;wDAAK,WAAU;kEAAsB;;;;;6EAEtC,6QAAC;wDAAK,WAAU;kEAAsB;;;;;;;;;;;8DAG9C,6QAAC;oDAAG,WAAU;8DACT,OAAO,eAAe,GAAG,WAAW,OAAO,eAAe,IAAI;;;;;;8DAEnE,6QAAC;oDAAG,WAAU;8DACT,WAAW,OAAO,SAAS;;;;;;;2CA3B3B,OAAO,GAAG;;;;;;;;;;;;;;;;sCAmC/B,6QAAC;4BAAI,WAAU;;8CACX,6QAAC;oCAAE,WAAU;;wCAAwB;wCAC3B;wCAAK;wCAAK;;;;;;;8CAEpB,6QAAC;oCAAI,WAAU;;sDACX,6QAAC;4CACG,SAAS,IAAM,QAAQ,OAAO;4CAC9B,UAAU,SAAS;4CACnB,WAAU;sDACb;;;;;;sDAGD,6QAAC;4CACG,SAAS,IAAM,QAAQ,OAAO;4CAC9B,UAAU,SAAS;4CACnB,WAAU;sDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjC"}}]
}