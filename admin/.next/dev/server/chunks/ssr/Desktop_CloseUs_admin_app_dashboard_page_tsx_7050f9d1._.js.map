{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashkumarmeena/Desktop/CloseUs/admin/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { apiClient } from '@/lib/api';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar } from 'recharts';\n\nexport default function DashboardPage() {\n    const { token } = useAuth();\n    const [stats, setStats] = useState<any>(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        if (token) {\n            fetchStats();\n        }\n    }, [token]);\n\n    const fetchStats = async () => {\n        try {\n            const [overviewRes, analyticsRes] = await Promise.all([\n                apiClient.get('/admin/dashboard/stats', token!),\n                apiClient.get('/admin/analytics/stats', token!)\n            ]);\n\n            setStats({\n                ...overviewRes.data,\n                ...analyticsRes.data\n            });\n        } catch (error) {\n            console.error('Failed to fetch dashboard stats:', error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    if (isLoading) return <div className=\"p-8 text-center text-gray-500\">Loading dashboard...</div>;\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">Dashboard Overview</h1>\n\n            {/* Stats Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                <StatCard\n                    title=\"Total Users\"\n                    value={stats?.users?.total || 0}\n                    icon=\"ðŸ‘¥\"\n                    color=\"blue\"\n                    subtitle={`${stats?.users?.recent || 0} this week`}\n                />\n                <StatCard\n                    title=\"Active Couples\"\n                    value={stats?.couples?.active || 0}\n                    icon=\"â¤ï¸\"\n                    color=\"red\"\n                    subtitle={`${stats?.couples?.paired || 0} paired total`}\n                />\n                <StatCard\n                    title=\"Total Messages\"\n                    value={stats?.messages?.total || 0}\n                    icon=\"ðŸ’¬\"\n                    color=\"green\"\n                    subtitle=\"All time messages\"\n                />\n                <StatCard\n                    title=\"Questions\"\n                    value={stats?.questions?.total || 0}\n                    icon=\"â“\"\n                    color=\"purple\"\n                    subtitle=\"In database\"\n                />\n            </div>\n\n            {/* Additional Stats */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                    <h3 className=\"text-lg font-semibold mb-4\">User Stats</h3>\n                    <div className=\"space-y-3\">\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">Total Users:</span>\n                            <span className=\"font-bold\">{stats?.users?.total || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">New This Week:</span>\n                            <span className=\"font-bold text-green-600\">{stats?.users?.recent || 0}</span>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                    <h3 className=\"text-lg font-semibold mb-4\">Couple Stats</h3>\n                    <div className=\"space-y-3\">\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">Total Couples:</span>\n                            <span className=\"font-bold\">{stats?.couples?.total || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">Paired:</span>\n                            <span className=\"font-bold text-green-600\">{stats?.couples?.paired || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">Unpaired:</span>\n                            <span className=\"font-bold text-yellow-600\">{stats?.couples?.unpaired || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">Active (7 days):</span>\n                            <span className=\"font-bold text-blue-600\">{stats?.couples?.active || 0}</span>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                    <h3 className=\"text-lg font-semibold mb-4\">Content Stats</h3>\n                    <div className=\"space-y-3\">\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">Messages:</span>\n                            <span className=\"font-bold\">{stats?.messages?.total || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                            <span className=\"text-gray-600\">Questions:</span>\n                            <span className=\"font-bold\">{stats?.questions?.total || 0}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction StatCard({ title, value, icon, color, subtitle }: any) {\n    const colors: any = {\n        blue: 'bg-blue-100 text-blue-600',\n        red: 'bg-red-100 text-red-600',\n        green: 'bg-green-100 text-green-600',\n        purple: 'bg-purple-100 text-purple-600',\n    };\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex items-center\">\n            <div className={`p-3 rounded-full mr-4 ${colors[color]}`}>\n                <span className=\"text-2xl\">{icon}</span>\n            </div>\n            <div>\n                <p className=\"text-sm text-gray-500 font-medium\">{title}</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{value}</p>\n                {subtitle && <p className=\"text-xs text-gray-400 mt-1\">{subtitle}</p>}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}